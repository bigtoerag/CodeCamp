<!DOCTYPE html>
<html>
<link id="page_favicon" href="data:image/x-icon;base64," rel="icon" type="image/x-icon">
<title>Magic 8 Ball</title>
 <link rel="stylesheet" type="text/css" href="../static/w3.css">
<meta charset="UTF-8">
<script type="text/javascript" charset="utf-8">
var neverBeenClicked=true;

    const argFunc = function(){
      if(neverBeenClicked === true){
        neverBeenClicked = false;
        alert('One alert')
      }
    }

    function aoskDeviceMotion() {
      document.querySelector('#overlay').addEventListener(
        'click', _askDeviceMotion, false);
      }

    function _askDeviceMotion() {
      document.querySelector('#contentLayer').style.display='block';
      askDeviceMotion(argFunc)
    }

function askDeviceMotion(funcArg) {
  try {
      if (
        DeviceMotionEvent &&
        typeof DeviceMotionEvent.requestPermission === 'function'
      ){
        DeviceMotionEvent.requestPermission().then(
          response => {
            if (response === 'granted') {
              grantedDeviceMotion(funcArg)
            }else{
              console.log('Device Motion permission not granted.')
            }
          })
          .catch(console.error)
      } else {
        grantedDeviceMotion(funcArg)
      }
    } catch (oops) {
      console.log('Your device and application combination do not support device motion events.')
    }
  }

function grantedDeviceMotion(funcArg) {
  window.addEventListener(
    'devicemotion',
    funcArg,
    false
  );
}
</script>
<head>
<style>
#overlay {
position: relative;
top: 0;
left: 0;
width: 100%;
height: 100%;
text-align: center;
margin-top: auto;
margin-bottom: auto;

}

#overlay button {
  color: #fff;
  height:auto;
  width:150px;
  position:absolute;
  top:50%;
  left:50%;
  margin-left:-75px;
  margin-top:-35px;
  display:block;
  z-index: 10;
}
</style>
<meta name="viewport" content="width=device-width, initial-scale=1">

</head>
<body class="w3-content">

<!-- First Grid: Logo & About -->
<div class="w3-white" style="height:100vh">
  <div class="w3-white w3-container w3-center w3-padding-16">
   <!-- <div class="w3-text-teal w3-bottombar w3-topbar">
      <h2>Risk Dice Roller</h2>
    </div>-->
    <div class="w3-padding-small">
      <div class="w3-block w3-teal w3-padding-small" id="question"><h3><a href="#" onclick="_askDeviceMotion()">Ask the magic 8 ball a question?</a><h3></div>

  	</div>
  <div class="w3-white" style="height:100%">
    <div class="w3-padding-16 w3-center ">
            <div class="w3-padding-small w3-white" id="overlay">
              <img src="../static/magicBallFinish.png" width="100%">

              <form action="/" method="POST">
              <button type="submit" id="answer_result" >{{ answer_feedback }}<br>{{ answer_sentiment }}</button>
      <!--  <span id="answer_result">{{ answer_feedback }}<br>{{ answer_sentiment }}</span> -->
      </form>
	{% if answer_err %}
	<p class="w3-red w3-block w3-padding-16">{{ answer_err }}</p>
	{% endif %}

      </div>
    </div>
  </div>
</div>


<!-- Footer -->
<footer class="w3-container w3-white  w3-center w3-text-teal w3-codespan">
  <hr>
  <div>Designed by Marcus in python3.6</div>
</footer>

</body>
</html>
